<!DOCTYPE html>
<html lang="id">

<!-- ================================================= -->
<!-- =============== HEAD / META ===================== -->
<!-- ================================================= -->
<head>
<meta charset="UTF-8">
<title>Daftar Akun | Web Perusahaan</title>

<!-- ================================================= -->
<!-- ======================= CSS ===================== -->
<!-- ================================================= -->
<style>

  /* ================= LOADER ================= */
  /* Loader kecil di tombol simpan */
  .btn-loader {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid #fff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-left: 10px;
  }

  /* Loader saat proses berjalan */
  .loader {
    display: none;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #1e3c72;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    animation: spin 1s linear infinite;
    margin: 10px auto;
  }

  /* Animasi loader */
  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* ================= GLOBAL ================= */
  /* Reset box & font default */
  * {
    box-sizing: border-box;
    font-family: "Segoe UI", Arial, sans-serif;
  }

  /* Background halaman */
  body.page-login.auth {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(135deg, #1e3c72, #2a5298);
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* ================= CARD ================= */
  /* Kotak form utama */
  .card {
    background: #fff;
    width: 90%;
    max-width: 480px;
    padding: 30px 25px;
    border-radius: 14px;
    box-shadow: 0 20px 40px rgba(0,0,0,.2);
    text-align: center;
    margin-top: 40px;
  }

  /* ================= INPUT ================= */
  /* Pembungkus input + indikator */
  .input-group {
    position: relative;
    margin-bottom: 14px;
    text-align: left;
  }

  /* Field input */
  input {
    width: 100%;
    padding: 12px 14px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }

  /* Efek saat input aktif */
  input:focus {
    border-color: #2a5298;
    outline: none;
    box-shadow: 0 0 0 2px rgba(42,82,152,0.2);
  }

  /* ================= INDIKATOR ================= */
  /* Titik validasi input */
  .check {
    display: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
  }

  /* Valid */
  .green { background: green; }
  /* Tidak valid */
  .red { background: red; }

  /* ================= NOTE ================= */
  /* Catatan kecil di bawah input */
  .note {
    font-size: 12px;
    color: #555;
    margin: 4px 0;
  }

  /* ================= SHOW PASSWORD ================= */
  /* Area checkbox show password */
  .show-pass {
    text-align: center;
    margin-bottom: 14px;
  }

  /* ================= BUTTON ================= */
  /* Tombol daftar */
  button {
    width: 100%;
    padding: 12px;
    background: #1e3c72;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
  }

  /* Tombol nonaktif */
  button:disabled {
    background: #888;
    cursor: not-allowed;
  }

</style>
</head>

<!-- ================================================= -->
<!-- ======================= HTML ==================== -->
<!-- ================================================= -->
<body class="page-login auth">

<!-- Card Form -->
<div class="card">
  <h2>Daftar Akun</h2>

  <!-- Input Nama -->
  <div class="input-group">
    <input id="nama" placeholder="Nama">
    <span id="namaCheck" class="check"></span>
  </div>

  <!-- Input Nomor Telepon -->
  <div class="input-group">
    <input id="telp" placeholder="Nomor Telepon">
    <span id="telpCheck" class="check"></span>
  </div>

  <!-- Input Alamat -->
  <div class="input-group">
    <input id="alamat" placeholder="Alamat">
    <span id="alamatCheck" class="check"></span>
  </div>

  <!-- Input Email -->
  <div class="input-group">
    <input id="email" placeholder="Email">
    <span id="emailCheck" class="check"></span>
    <div class="note">Gunakan Gmail valid</div>
  </div>

  <!-- Input Password -->
  <div class="input-group">
    <input id="password" type="password" placeholder="Password">
    <span id="passwordCheck" class="check"></span>
  </div>

  <!-- Konfirmasi Password -->
  <div class="input-group">
    <input id="confirm" type="password" placeholder="Konfirmasi Password">
    <span id="confirmCheck" class="check"></span>
    <div class="note">Minimal 8 karakter, huruf besar di awal, angka/simbol</div>
  </div>

  <!-- Checkbox tampilkan password -->
  <div class="show-pass">
    <input type="checkbox" id="showPass">
    <label for="showPass">Show Password</label>
  </div>

  <!-- Loader proses -->
  <div class="loader" id="loader"></div>

  <!-- Tombol daftar -->
  <button id="registerBtn" disabled>
    Simpan
    <span id="btnLoader" class="btn-loader" style="display:none;"></span>
  </button>

  <!-- Pesan status -->
  <p id="msg"></p>
</div>

<!-- ================================================= -->
<!-- ======================= JS ====================== -->
<!-- ================================================= -->

<!-- Firebase Config -->
<script src="firebase.js"></script>
<!-- Auth Logic -->
<script src="auth.js"></script>

<script>

  /* Ambil semua elemen input */
  const namaInput = document.getElementById("nama");
  const emailInput = document.getElementById("email");
  const telpInput = document.getElementById("telp");
  const alamatInput = document.getElementById("alamat");
  const passwordInput = document.getElementById("password");
  const confirmInput = document.getElementById("confirm");

  /* Elemen UI */
  const msg = document.getElementById("msg");
  const registerBtn = document.getElementById("registerBtn");
  const loader = document.getElementById("loader");
  const btnLoader = document.getElementById("btnLoader");
  const showPass = document.getElementById("showPass");

  /* Status valid email */
  let emailValid = false;

  /* Toggle tampil / sembunyi password */
  showPass.addEventListener("change", () => {
    const type = showPass.checked ? "text" : "password";
    passwordInput.type = confirmInput.type = type;
  });

  /* Tampilkan indikator validasi */
  function setCheck(el, valid, value) {
    if (!value.trim()) {
      el.style.display = "none";
    } else {
      el.style.display = "inline-block";
      el.className = "check " + (valid ? "green" : "red");
    }
  }

  /* Aktifkan tombol jika semua input valid */
  function enableButton() {
    registerBtn.disabled = !(
      namaInput.value &&
      emailValid &&
      telpInput.value &&
      alamatInput.value &&
      passwordInput.value === confirmInput.value &&
      passwordInput.value.length >= 8
    );
  }

</script>

</body>
</html>
