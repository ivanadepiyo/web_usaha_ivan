<!DOCTYPE html>
<html>
<body>
<h2>Edit Usaha</h2>

<input id="nama"><br>
<input id="bidang"><br>
<button>Update</button>

<script type="module">
import { db } from "./firebase.js";
import { doc,getDoc,updateDoc }
from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

const id=new URLSearchParams(location.search).get("id");
const ref=doc(db,"usaha",id);
const snap=await getDoc(ref);

nama.value=snap.data().nama;
bidang.value=snap.data().bidang;

document.querySelector("button").onclick=async()=>{
  await updateDoc(ref,{
    nama:nama.value,
    bidang:bidang.value
  });
  location.href="dashboard.html";
}
</script>
</body>
</html>
